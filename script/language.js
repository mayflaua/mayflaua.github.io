let dict = {
  // header
  'danil':'–î–∞–Ω–∏–ª',
  '_hello': '_–ø—Ä–∏–≤–µ—Ç',
  '_about-me': '_–æ–±–æ-–º–Ω–µ',
  '_projects': '_–ø—Ä–æ–µ–∫—Ç—ã',
  '_contact-me': '_—Å–≤—è–∑–∞—Ç—å—Å—è',

  // footer
  'find me in:': '—Ç–∞–∫ –∂–µ —è –≤:',

  // hello page
  'Hi all. I am': '–ü—Ä–∏–≤–µ—Ç. –Ø',
  'Daniil Fomichev': '–î–∞–Ω–∏–∏–ª',
  '> Front-end developer': 'Front-end —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫',
  '// complete the game to continue': '// –≤—ã–∏–≥—Ä–∞–π—Ç–µ, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å',
  '// you can also see it on my GitHub page': '// –∏–≥—Ä–∞ —Ç–∞–∫ –∂–µ –µ—Å—Ç—å –Ω–∞ GitHub',
  '// find my profile on Github:': '// —è –Ω–∞ GitHub:',
  'start-game': '–Ω–∞—á–∞—Ç—å',
  'game over!': '–∏–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!',
  '// use keyboard': '// –∂–º–∏ —Å—Ç—Ä–µ–ª–∫–∏',
  '// arrows to play': '// –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è',
  '// food left': '// –æ—Å—Ç–∞–ª–æ—Å—å',
  'skip': '–¥–∞–ª—å—à–µ',

  // about-page
  'personal-info': '–ª–∏—á–Ω–∞—è-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è',
  'work': '—Ä–∞–±–æ—Ç–∞',
  'catering establishments': '–æ–±—â–µ–ø–∏—Ç',
  'bio': '–±–∏–æ–≥—Ä–∞—Ñ–∏—è',
  'childhood': '–¥–µ—Ç—Å—Ç–≤–æ',
  'present': '–Ω–∞—Å—Ç–æ—è—â–µ–µ',
  'interests': '–∏–Ω—Ç–µ—Ä–µ—Å—ã',
  'coding': '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
  'tech': '—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏',
  'education': '–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ',
  'high-school': '—à–∫–æ–ª–∞',
  'university': '—É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç',
  'contacts': '–∫–æ–Ω—Ç–∞–∫—Ç—ã',

  // projects-page
  'projects': '–ø—Ä–æ–µ–∫—Ç—ã',
  'Unfortunately, this site is my first and only project yet.': '–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–æ–∫–∞ —á—Ç–æ —ç—Ç–æ –º–æ–π –ø–µ—Ä–≤—ã–π –∏ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç.',
  'Unselected by default technologies haven\'t been studied by me at the moment of this site creation process.': '–ù–µ–≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –Ω–µ –±—ã–ª–∏ –∏–∑—É—á–µ–Ω—ã –º–Ω–æ–π –Ω–∞ –º–æ–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω–∏—è —ç—Ç–æ–≥–æ —Å–∞–π—Ç–∞.',
  
  // contact page
  'find-me-also-in': '—è-–µ—Å—Ç—å-–≤',
  '_name:': '_–∏–º—è:',
  '_email:': '_—ç–ª-–ø–æ—á—Ç–∞:',
  '_message:': '_—Å–æ–æ–±—â–µ–Ω–∏–µ:',
  'submit-message': '–æ—Ç–ø—Ä–∞–≤–∏—Ç—å',
  'Thank you! ü§ò': '–°–ø–∞—Å–∏–±–æ! ü§ò',
  'Your message has been accepted. You will recieve answer really soon!': '–°–æ–æ–±—â–µ–Ω–∏–µ –±—ã–ª–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ! –Ø –æ—Ç–≤–µ—á—É –∫–∞–∫ –º–æ–∂–Ω–æ —Å–∫–æ—Ä–µ–µ!',
  'send-new-message': '–æ—Ç–ø—Ä–∞–≤–∏—Ç—å-–µ—â—ë'
}

// strip func
function trim(s){ 
  return ( s || '' ).replace( /^\s+|\s+$/g, '' ); 
}

function load_script() {
  if (document.title == 'ABOUT ME') {
    let head = document.getElementsByTagName('head')[0];
    let script = document.createElement('script');
    let oldScript = head.querySelector("#script");
    script.src = 'scripts/about.js';
    script.id = 'script';
    head.appendChild(script);
    head.removeChild(oldScript);
   }
  }


let LANGUAGE;


let words = document.querySelectorAll('.en');
let nameTag = document.querySelector('.header-name');

nameTag.addEventListener("click", function(e) {
  e.preventDefault();
  switchLang();
});

// swap dict keys and values
function swap(dict) {
  var ret = {};
  for(var key in dict){
    ret[dict[key]] = key;
  }
  return ret;
}

let lang = document.querySelector('.lang');
let page = document.querySelector('.page-container');

function switchLang() {

  lang.classList.toggle('rus');
  lang.classList.toggle('eng');
  page.animate(switchLangAnim, switchLangAnimTiming);

  for (let i=0;i<words.length;i++) {
    if ( trim(words[i].textContent) in dict) {
      let content = trim(words[i].textContent);
      words[i].textContent = dict[content];
    }
  }

  if (LANGUAGE == 'ru') {
    LANGUAGE = 'en'; 
    window.sessionStorage.setItem('LANGUAGE', 'en');
  }
  else { 
    LANGUAGE = 'ru';
    window.sessionStorage.setItem('LANGUAGE', 'ru');
  }
  dict = swap(dict);
  load_script();

}

let switchLangAnim = [
  {'opacity': '0'},
  {'opacity': '1'}
]

let switchLangAnimTiming = {
  duration: 400,
  iterations: 1,
}

if (window.sessionStorage.getItem('LANGUAGE') == 'ru') switchLang();
else LANGUAGE = 'en';